import{B as a,i as l,E as u,L as d,P as m,M as g,l as f,s as c,g as h}from"./ErrorPage-BWUfNm-R.js";const r=document.getElementById("root"),o=e=>{window.history.pushState({},"",a+e),i()},p=e=>{e.preventDefault();const t=document.getElementById("username").value;c({username:t,email:"",bio:""}),o("/profile")},v=()=>{f(),o("/login")},w=()=>{const e=h(),t=document.getElementById("username").value,n=document.getElementById("email").value,s=document.getElementById("bio").value;c({...e,username:t,email:n,bio:s}),o("/profile")},i=()=>{const e=window.location.pathname;if(!e.startsWith(a)){const n=a+e;window.history.replaceState({},"",n)}const t=window.location.pathname.replace(a,"")||"/";if(t==="/profile"&&!l()){o("/login");return}if(t==="/login"&&l()){o("/");return}switch(t){case"/":r.innerHTML=g();break;case"/profile":r.innerHTML=m();break;case"/login":r.innerHTML=d();break;default:r.innerHTML=u();break}};window.addEventListener("load",()=>{i()});window.addEventListener("popstate",i);document.addEventListener("click",e=>{const t=e.target.closest("a, [role='link']");if(t){e.preventDefault();const n=t.getAttribute("href");if(n&&n!=="#"){const s=a+n;window.history.pushState({},"",s),i()}}e.target.matches("#logout")&&(e.preventDefault(),v())});document.addEventListener("submit",e=>{e.target.matches("#login-form")&&(e.preventDefault(),p(e)),e.target.matches("#profile-form")&&(e.preventDefault(),w())});
